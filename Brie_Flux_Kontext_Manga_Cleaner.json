{
  "id": "7cbcec68-7fa6-47bb-a38a-da689949a001",
  "revision": 0,
  "last_node_id": 246,
  "last_link_id": 423,
  "nodes": [
    {
      "id": 37,
      "type": "UNETLoader",
      "pos": [
        -400,
        80
      ],
      "size": [
        337.76861572265625,
        82
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            58
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "UNETLoader",
        "models": [
          {
            "name": "flux1-dev-kontext_fp8_scaled.safetensors",
            "url": "https://huggingface.co/Comfy-Org/flux1-kontext-dev_ComfyUI/resolve/main/split_files/diffusion_models/flux1-dev-kontext_fp8_scaled.safetensors",
            "directory": "diffusion_models"
          }
        ],
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "flux1-dev-kontext_fp8_scaled.safetensors",
        "default"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 38,
      "type": "DualCLIPLoader",
      "pos": [
        -400,
        210
      ],
      "size": [
        337.76861572265625,
        130
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            59
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "DualCLIPLoader",
        "models": [
          {
            "name": "clip_l.safetensors",
            "url": "https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/clip_l.safetensors",
            "directory": "text_encoders"
          },
          {
            "name": "t5xxl_fp8_e4m3fn_scaled.safetensors",
            "url": "https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp8_e4m3fn_scaled.safetensors",
            "directory": "text_encoders"
          }
        ],
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "clip_l.safetensors",
        "t5xxl_fp16.safetensors",
        "flux",
        "default"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 39,
      "type": "VAELoader",
      "pos": [
        -400,
        390
      ],
      "size": [
        337.76861572265625,
        58
      ],
      "flags": {},
      "order": 2,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "links": [
            61,
            223
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "VAELoader",
        "models": [
          {
            "name": "ae.safetensors",
            "url": "https://huggingface.co/Comfy-Org/Lumina_Image_2.0_Repackaged/resolve/main/split_files/vae/ae.safetensors",
            "directory": "vae"
          }
        ],
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "ae.safetensors"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 177,
      "type": "ReferenceLatent",
      "pos": [
        10,
        140
      ],
      "size": [
        197.712890625,
        46
      ],
      "flags": {},
      "order": 35,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 294
        },
        {
          "name": "latent",
          "shape": 7,
          "type": "LATENT",
          "link": 293
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            292
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.41",
        "Node name for S&R": "ReferenceLatent",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 146,
      "type": "ImageStitch",
      "pos": [
        -390,
        570
      ],
      "size": [
        270,
        150
      ],
      "flags": {},
      "order": 15,
      "mode": 4,
      "inputs": [
        {
          "name": "image1",
          "type": "IMAGE",
          "link": 249
        },
        {
          "name": "image2",
          "shape": 7,
          "type": "IMAGE",
          "link": 250
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": []
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "ImageStitch",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "right",
        true,
        0,
        "white"
      ]
    },
    {
      "id": 35,
      "type": "FluxGuidance",
      "pos": [
        250,
        90
      ],
      "size": [
        240,
        58
      ],
      "flags": {
        "collapsed": false
      },
      "order": 36,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 292
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            57
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "FluxGuidance",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        2.5
      ]
    },
    {
      "id": 188,
      "type": "EmptySD3LatentImage",
      "pos": [
        530,
        -140
      ],
      "size": [
        310,
        106
      ],
      "flags": {},
      "order": 3,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.41",
        "Node name for S&R": "EmptySD3LatentImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        1024,
        1024,
        1
      ]
    },
    {
      "id": 124,
      "type": "VAEEncode",
      "pos": [
        36.143489837646484,
        359.61614990234375
      ],
      "size": [
        240,
        50
      ],
      "flags": {
        "collapsed": false
      },
      "order": 33,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 222
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 223
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            291,
            293
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.39",
        "Node name for S&R": "VAEEncode",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 135,
      "type": "ConditioningZeroOut",
      "pos": [
        250,
        200
      ],
      "size": [
        240,
        26
      ],
      "flags": {
        "collapsed": false
      },
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 237
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            238
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.39",
        "Node name for S&R": "ConditioningZeroOut",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 42,
      "type": "FluxKontextImageScale",
      "pos": [
        -33.882259368896484,
        569.1045532226562
      ],
      "size": [
        270,
        30
      ],
      "flags": {
        "collapsed": false
      },
      "order": 32,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 325
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            222,
            289
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "FluxKontextImageScale",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 31,
      "type": "KSampler",
      "pos": [
        530,
        40
      ],
      "size": [
        320,
        262
      ],
      "flags": {},
      "order": 37,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 58
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 57
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 238
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 291
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "slot_index": 0,
          "links": [
            52
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "KSampler",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        844429096065429,
        "randomize",
        20,
        1,
        "euler",
        "simple",
        1
      ]
    },
    {
      "id": 147,
      "type": "LoadImageOutput",
      "pos": [
        -50,
        770
      ],
      "size": [
        320,
        374
      ],
      "flags": {},
      "order": 4,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            250
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "LoadImageOutput",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "KontextJoinH_00023.png [output]",
        false,
        "refresh",
        "image"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 8,
      "type": "VAEDecode",
      "pos": [
        530,
        350
      ],
      "size": [
        190,
        46
      ],
      "flags": {
        "collapsed": false
      },
      "order": 38,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 52
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 61
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            392,
            393,
            394
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "VAEDecode",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 240,
      "type": "PreviewImage",
      "pos": [
        772.9710083007812,
        517.5219116210938
      ],
      "size": [
        604.8088989257812,
        631.6600341796875
      ],
      "flags": {},
      "order": 41,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 394
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.42",
        "Node name for S&R": "PreviewImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 195,
      "type": "FluxKontextImageScale",
      "pos": [
        -83.0741958618164,
        1636.6951904296875
      ],
      "size": [
        270,
        30
      ],
      "flags": {
        "collapsed": false
      },
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 308
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            310,
            311
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "FluxKontextImageScale",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 205,
      "type": "ImageBatch",
      "pos": [
        342.25738525390625,
        1629.8040771484375
      ],
      "size": [
        270,
        46
      ],
      "flags": {},
      "order": 31,
      "mode": 0,
      "inputs": [
        {
          "name": "image1",
          "type": "IMAGE",
          "link": 323
        },
        {
          "name": "image2",
          "type": "IMAGE",
          "link": 324
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            325
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.42",
        "Node name for S&R": "ImageBatch",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 202,
      "type": "ImageFromBatch",
      "pos": [
        342.25738525390625,
        2440.781005859375
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 316
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            317
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.42",
        "Node name for S&R": "ImageFromBatch",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        1,
        1
      ]
    },
    {
      "id": 203,
      "type": "ImageResizeKJv2",
      "pos": [
        342.25738525390625,
        2577.666259765625
      ],
      "size": [
        270,
        266
      ],
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 317
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 321
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 322
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            320,
            324
          ]
        },
        {
          "name": "width",
          "type": "INT",
          "links": null
        },
        {
          "name": "height",
          "type": "INT",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "f7eb33abc80a2aded1b46dff0dd14d07856a7d50",
        "Node name for S&R": "ImageResizeKJv2",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        512,
        512,
        "nearest-exact",
        "pad",
        "255,255,255",
        "top",
        1,
        "cpu"
      ]
    },
    {
      "id": 204,
      "type": "PreviewImage",
      "pos": [
        694.9756469726562,
        2440.781005859375
      ],
      "size": [
        319.0860595703125,
        402.8852844238281
      ],
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 320
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.42",
        "Node name for S&R": "PreviewImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 234,
      "type": "ImageFromBatch",
      "pos": [
        2249.5791015625,
        1629.1807861328125
      ],
      "size": [
        315,
        82
      ],
      "flags": {},
      "order": 43,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 378
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            380,
            398
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.42",
        "Node name for S&R": "ImageFromBatch",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        0,
        1
      ]
    },
    {
      "id": 235,
      "type": "ImageFromBatch",
      "pos": [
        2249.5791015625,
        1770.22021484375
      ],
      "size": [
        315,
        82
      ],
      "flags": {},
      "order": 44,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 379
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            399,
            402
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.42",
        "Node name for S&R": "ImageFromBatch",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        1,
        1
      ]
    },
    {
      "id": 242,
      "type": "ColorMatch",
      "pos": [
        2249.5791015625,
        1911.2596435546875
      ],
      "size": [
        315,
        102
      ],
      "flags": {},
      "order": 48,
      "mode": 4,
      "inputs": [
        {
          "name": "image_ref",
          "type": "IMAGE",
          "link": 398
        },
        {
          "name": "image_target",
          "type": "IMAGE",
          "link": 399
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": []
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "f7eb33abc80a2aded1b46dff0dd14d07856a7d50",
        "Node name for S&R": "ColorMatch",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "mkl",
        1
      ]
    },
    {
      "id": 232,
      "type": "Image Save",
      "pos": [
        2628.338134765625,
        1629.1807861328125
      ],
      "size": [
        315,
        626
      ],
      "flags": {},
      "order": 52,
      "mode": 4,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 382
        }
      ],
      "outputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "links": [
            384
          ]
        },
        {
          "name": "files",
          "type": "STRING",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "was-node-suite-comfyui",
        "ver": "3ed45af34a14551dc28cb3127235cc7197d4633f",
        "Node name for S&R": "Image Save",
        "widget_ue_connectable": {
          "output_path": true,
          "filename_prefix": true,
          "filename_delimiter": true,
          "filename_number_padding": true,
          "filename_number_start": true,
          "extension": true,
          "dpi": true,
          "quality": true,
          "optimize_image": true,
          "lossless_webp": true,
          "overwrite_mode": true,
          "show_history": true,
          "show_history_by_prefix": true,
          "embed_workflow": true,
          "show_previews": true
        }
      },
      "widgets_values": [
        "",
        "KontextJoinW",
        "_",
        5,
        "false",
        "png",
        300,
        100,
        "true",
        "false",
        "false",
        "false",
        "true",
        "true",
        "true"
      ],
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 237,
      "type": "ImageFromBatch",
      "pos": [
        2249.5791015625,
        2329.89453125
      ],
      "size": [
        315,
        82
      ],
      "flags": {},
      "order": 46,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 376
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            375,
            395
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.42",
        "Node name for S&R": "ImageFromBatch",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        0,
        1
      ]
    },
    {
      "id": 239,
      "type": "PreviewImage",
      "pos": [
        3006.713623046875,
        1629.1807861328125
      ],
      "size": [
        526.5191040039062,
        605.8673095703125
      ],
      "flags": {},
      "order": 54,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 384
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.42",
        "Node name for S&R": "PreviewImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 236,
      "type": "ImageFromBatch",
      "pos": [
        2249.5791015625,
        2473.891357421875
      ],
      "size": [
        315,
        82
      ],
      "flags": {},
      "order": 47,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 377
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            396,
            401
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.42",
        "Node name for S&R": "ImageFromBatch",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        1,
        1
      ]
    },
    {
      "id": 241,
      "type": "ColorMatch",
      "pos": [
        2249.5791015625,
        2617.88818359375
      ],
      "size": [
        315,
        102
      ],
      "flags": {},
      "order": 50,
      "mode": 4,
      "inputs": [
        {
          "name": "image_ref",
          "type": "IMAGE",
          "link": 395
        },
        {
          "name": "image_target",
          "type": "IMAGE",
          "link": 396
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": []
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "f7eb33abc80a2aded1b46dff0dd14d07856a7d50",
        "Node name for S&R": "ColorMatch",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "mkl",
        1
      ]
    },
    {
      "id": 230,
      "type": "Image Save",
      "pos": [
        2628.338134765625,
        2329.89453125
      ],
      "size": [
        315,
        626.0001220703125
      ],
      "flags": {},
      "order": 53,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 383
        }
      ],
      "outputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "links": [
            385
          ]
        },
        {
          "name": "files",
          "type": "STRING",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "was-node-suite-comfyui",
        "ver": "3ed45af34a14551dc28cb3127235cc7197d4633f",
        "Node name for S&R": "Image Save",
        "widget_ue_connectable": {
          "output_path": true,
          "filename_prefix": true,
          "filename_delimiter": true,
          "filename_number_padding": true,
          "filename_number_start": true,
          "extension": true,
          "dpi": true,
          "quality": true,
          "optimize_image": true,
          "lossless_webp": true,
          "overwrite_mode": true,
          "show_history": true,
          "show_history_by_prefix": true,
          "embed_workflow": true,
          "show_previews": true
        }
      },
      "widgets_values": [
        "",
        "KontextJoinH",
        "_",
        5,
        "false",
        "png",
        300,
        100,
        "true",
        "false",
        "false",
        "false",
        "true",
        "true",
        "true"
      ],
      "color": "#332922",
      "bgcolor": "#593930"
    },
    {
      "id": 238,
      "type": "PreviewImage",
      "pos": [
        3006.713623046875,
        2329.89453125
      ],
      "size": [
        526.5191040039062,
        605.8673095703125
      ],
      "flags": {},
      "order": 55,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 385
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.42",
        "Node name for S&R": "PreviewImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 180,
      "type": "MarkdownNote",
      "pos": [
        -1430,
        40
      ],
      "size": [
        450,
        450
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "‚ú® New ComfyUI feature for Flux.1 Kontext Dev",
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "[English]\nWe have added an **Edit** button to the **Selection Toolbox** of the node for **FLUX.1 Kontext Image Edit** support. When clicked, it quickly adds a **FLUX.1 Kontext Image Edit** group node to the Latent output of your current workflow. This enables an interactive editing experience where you can:\n\n- Create multiple editing iterations, each preserved as a separate node\n- Easily branch off from any previous edit point to explore different creative directions\n- Return to any earlier version and start a new editing branch\n- Modify parameters in earlier nodes and automatically update all downstream edits\n- Execute or re-execute any branch of edits at any time\n- When you want to maintain the effect of the corresponding branch, please set the seed of the corresponding group node to fixed.\n\n\nThis workflow mirrors the iterative nature of LLM conversations, but with the added advantage of visual editing and the ability to maintain multiple parallel editing paths.\n\n---\n\n[‰∏≠Êñá]\nÊàë‰ª¨‰∏∫ **FLUX.1 Kontext Image Edit** ÁöÑÁõ∏ÂÖ≥ÊîØÊåÅÂú®ËäÇÁÇπÁöÑ**ÈÄâÊã©Â∑•ÂÖ∑ÁÆ±**‰∏äÊñ∞Â¢û‰∫Ü‰∏Ä‰∏™**ÁºñËæë**ÊåâÈíÆ„ÄÇÁÇπÂáªÂêéÔºåÁ≥ªÁªü‰ºöÂú®ÂΩìÂâçÂ∑•‰ΩúÊµÅÁöÑ Latent ËæìÂá∫‰∏äÂø´ÈÄüÊ∑ªÂä†‰∏Ä‰∏™ **FLUX.1 Kontext Image Edit** ÁöÑÁªÑËäÇÁÇπ„ÄÇËøôÁßçËÆæËÆ°Â∏¶Êù•‰∫ÜÁÅµÊ¥ªÁöÑ‰∫§‰∫íÂºèÁºñËæë‰ΩìÈ™åÔºö\n\n- ÂàõÂª∫Â§ö‰∏™ÁºñËæëËø≠‰ª£ÔºåÊØèÊ¨°ÁºñËæëÈÉΩ‰ºö‰øùÂ≠ò‰∏∫Áã¨Á´ãËäÇÁÇπ\n- ÂèØ‰ª•‰ªé‰ªª‰Ωï‰πãÂâçÁöÑÁºñËæëÁÇπÂàÜÊîØÂá∫Êñ∞ÁöÑÂàõ‰ΩúÊñπÂêë\n- ÈöèÊó∂ËøîÂõûÂà∞Êó©ÊúüÁâàÊú¨Âπ∂ÂºÄÂßãÊñ∞ÁöÑÁºñËæëÂàÜÊîØ\n- ‰øÆÊîπÊó©ÊúüËäÇÁÇπÁöÑÂèÇÊï∞ÔºåËá™Âä®Êõ¥Êñ∞ÊâÄÊúâ‰∏ãÊ∏∏ÁºñËæë\n- ÂèØ‰ª•ÈöèÊó∂ÊâßË°åÊàñÈáçÊñ∞ÊâßË°å‰ªª‰ΩïÁºñËæëÂàÜÊîØ\n- ÊÉ≥Ë¶ÅÂõ∫ÂÆöÂØπÂ∫îÂàÜÊîØÊïàÊûúÊó∂ÔºåËØ∑Â∞ÜÂØπÂ∫îÁöÑ seed ËÆæÁΩÆ‰∏∫ fixed\n\nËøôÁßçÂ∑•‰ΩúÊµÅÁ®ãÁ±ª‰ºº‰∫é LLM ÂØπËØùÁöÑËø≠‰ª£ÁâπÊÄßÔºå‰ΩÜÂ¢ûÂä†‰∫ÜËßÜËßâÁºñËæëÁöÑ‰ºòÂäøÔºåÂπ∂ËÉΩÂ§üÁª¥Êä§Â§ö‰∏™Âπ∂Ë°åÁöÑÁºñËæëË∑ØÂæÑ„ÄÇ"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 184,
      "type": "MarkdownNote",
      "pos": [
        -960,
        40
      ],
      "size": [
        510,
        400
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Model links",
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "[tutorial](http://docs.comfy.org/tutorials/flux/flux-1-kontext-dev) | [ÊïôÁ®ã](http://docs.comfy.org/zh-CN/tutorials/flux/flux-1-kontext-dev)\n\n**diffusion model**\n\n- [flux1-dev-kontext_fp8_scaled.safetensors](https://huggingface.co/Comfy-Org/flux1-kontext-dev_ComfyUI/resolve/main/split_files/diffusion_models/flux1-dev-kontext_fp8_scaled.safetensors)\n\n**vae**\n\n- [ae.safetensors](https://huggingface.co/Comfy-Org/Lumina_Image_2.0_Repackaged/blob/main/split_files/vae/ae.safetensors)\n\n**text encoder**\n\n- [clip_l.safetensors](https://huggingface.co/comfyanonymous/flux_text_encoders/blob/main/clip_l.safetensors)\n- [t5xxl_fp16.safetensors](https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp16.safetensors) or [t5xxl_fp8_e4m3fn_scaled.safetensors](https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp8_e4m3fn_scaled.safetensors)\n\nModel Storage Location\n\n```\nüìÇ ComfyUI/\n‚îú‚îÄ‚îÄ üìÇ models/\n‚îÇ   ‚îú‚îÄ‚îÄ üìÇ diffusion_models/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ flux1-dev-kontext_fp8_scaled.safetensors\n‚îÇ   ‚îú‚îÄ‚îÄ üìÇ vae/\n‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ae.safetensor\n‚îÇ   ‚îî‚îÄ‚îÄ üìÇ text_encoders/\n‚îÇ       ‚îú‚îÄ‚îÄ clip_l.safetensors\n‚îÇ       ‚îî‚îÄ‚îÄ t5xxl_fp16.safetensors ÊàñËÄÖ t5xxl_fp8_e4m3fn_scaled.safetensors\n```\n"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 185,
      "type": "MarkdownNote",
      "pos": [
        -960,
        490
      ],
      "size": [
        510,
        170
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "About VRAM",
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "For reference:\n- **fp8_scaled**: Requires about 20GB of VRAM.\n- **Original**: Requires about 32GB of VRAM.\n\n---\n\n‰æõÂèÇËÄÉÔºö\n-  **fp8_scaled** :  Â§ßÊ¶ÇÈúÄË¶Å 20GB Â∑¶Âè≥ VRAM \n- **ÂéüÂßãÊùÉÈáç**:  ÂéüÂßãÊùÉÈáçÔºåÂ§ßÊ¶ÇÈúÄË¶Å 32GB Â∑¶Âè≥ VRAM \n"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 186,
      "type": "MarkdownNote",
      "pos": [
        -960,
        710
      ],
      "size": [
        510,
        170
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Flux Kontext Prompt Techniques",
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "\n## Flux Kontext Prompt Techniques\n\n### 1. Basic Modifications\n- Simple and direct: `\"Change the car color to red\"`\n- Maintain style: `\"Change to daytime while maintaining the same style of the painting\"`\n\n### 2. Style Transfer\n**Principles:**\n- Clearly name style: `\"Transform to Bauhaus art style\"`\n- Describe characteristics: `\"Transform to oil painting with visible brushstrokes, thick paint texture\"`\n- Preserve composition: `\"Change to Bauhaus style while maintaining the original composition\"`\n\n### 3. Character Consistency\n**Framework:**\n- Specific description: `\"The woman with short black hair\"` instead of \"she\"\n- Preserve features: `\"while maintaining the same facial features, hairstyle, and expression\"`\n- Step-by-step modifications: Change background first, then actions\n\n### 4. Text Editing\n- Use quotes: `\"Replace 'joy' with 'BFL'\"`\n- Maintain format: `\"Replace text while maintaining the same font style\"`\n\n## Common Problem Solutions\n\n### Character Changes Too Much\n‚ùå Wrong: `\"Transform the person into a Viking\"`\n‚úÖ Correct: `\"Change the clothes to be a viking warrior while preserving facial features\"`\n\n### Composition Position Changes\n‚ùå Wrong: `\"Put him on a beach\"`\n‚úÖ Correct: `\"Change the background to a beach while keeping the person in the exact same position, scale, and pose\"`\n\n### Style Application Inaccuracy\n‚ùå Wrong: `\"Make it a sketch\"`\n‚úÖ Correct: `\"Convert to pencil sketch with natural graphite lines, cross-hatching, and visible paper texture\"`\n\n## Core Principles\n\n1. **Be Specific and Clear** - Use precise descriptions, avoid vague terms\n2. **Step-by-step Editing** - Break complex modifications into multiple simple steps\n3. **Explicit Preservation** - State what should remain unchanged\n4. **Verb Selection** - Use \"change\", \"replace\" rather than \"transform\"\n\n## Best Practice Templates\n\n**Object Modification:**\n`\"Change [object] to [new state], keep [content to preserve] unchanged\"`\n\n**Style Transfer:**\n`\"Transform to [specific style], while maintaining [composition/character/other] unchanged\"`\n\n**Background Replacement:**\n`\"Change the background to [new background], keep the subject in the exact same position and pose\"`\n\n**Text Editing:**\n`\"Replace '[original text]' with '[new text]', maintain the same font style\"`\n\n> **Remember:** The more specific, the better. Kontext excels at understanding detailed instructions and maintaining consistency. "
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 178,
      "type": "MarkdownNote",
      "pos": [
        -30,
        -150
      ],
      "size": [
        540,
        150
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "About multiple images reference",
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "[English] In addition to using **Image Stitch** to combine two images at a time, you can also encode individual images, then concatenate multiple latent conditions using the **ReferenceLatent** node, thus achieving the purpose of referencing multiple images. You can use the **EmptySD3LatentImage** node on the right to connect to **KSamper** and customize the size of the **latent_image**.\n\n[‰∏≠Êñá] Èô§‰∫Ü‰ΩøÁî® **Image Stitch** Â∞Ü‰∏§‰∏™‰∏§‰∏™ÂõæÂÉèÊãºÂêà‰πãÂ§ñÔºå‰Ω†ÂêåÊ†∑ÂèØ‰ª•Â∞ÜÂçïÁã¨ÁöÑÂõæÂÉè encode ‰πãÂêéÔºåÂ∞ÜÂ§ö‰∏™ latent Êù°‰ª∂‰ΩøÁî® **ReferenceLatent** ËäÇÁÇπ‰∏≤ËÅîÔºå‰ªéËÄåÂÆûÁé∞Â§öÂº†ÂõæÂÉèÂèÇËÄÉÁöÑÁõÆÁöÑ„ÄÇÂèØ‰ª•‰ΩøÁî®Âè≥ËæπÁöÑ **EmptySD3LatentImage** ËäÇÁÇπËøûÊé•Âà∞ **KSamper**Êù•Ëá™ÂÆö‰πâ **latent_image** ÁöÑÂ∞∫ÂØ∏"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 187,
      "type": "MarkdownNote",
      "pos": [
        -960,
        930
      ],
      "size": [
        510,
        180
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Flux Kontext ÊèêÁ§∫ËØçÊäÄÂ∑ß",
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "\n## Flux Kontext ÊèêÁ§∫ËØçÊäÄÂ∑ß\n\n‰ΩøÁî®Ëã±Êñá\n\n### 1. Âü∫Á°Ä‰øÆÊîπ\n- ÁÆÄÂçïÁõ¥Êé•Ôºö`\"Change the car color to red\"`\n- ‰øùÊåÅÈ£éÊ†ºÔºö`\"Change to daytime while maintaining the same style of the painting\"`\n\n### 2. È£éÊ†ºËΩ¨Êç¢\n**ÂéüÂàôÔºö**\n- ÊòéÁ°ÆÂëΩÂêçÈ£éÊ†ºÔºö`\"Transform to Bauhaus art style\"`\n- ÊèèËø∞ÁâπÂæÅÔºö`\"Transform to oil painting with visible brushstrokes, thick paint texture\"`\n- ‰øùÁïôÊûÑÂõæÔºö`\"Change to Bauhaus style while maintaining the original composition\"`\n\n### 3. ËßíËâ≤‰∏ÄËá¥ÊÄß\n**Ê°ÜÊû∂Ôºö**\n- ÂÖ∑‰ΩìÊèèËø∞Ôºö`\"The woman with short black hair\"`ËÄåÈùû`\"Â•π\"`\n- ‰øùÁïôÁâπÂæÅÔºö`\"while maintaining the same facial features, hairstyle, and expression\"`\n- ÂàÜÊ≠•‰øÆÊîπÔºöÂÖàÊîπËÉåÊôØÔºåÂÜçÊîπÂä®‰Ωú\n\n### 4. ÊñáÊú¨ÁºñËæë\n- ‰ΩøÁî®ÂºïÂè∑Ôºö`\"Replace 'joy' with 'BFL'\"`\n- ‰øùÊåÅÊ†ºÂºèÔºö`\"Replace text while maintaining the same font style\"`\n\n## Â∏∏ËßÅÈóÆÈ¢òËß£ÂÜ≥\n\n### ËßíËâ≤ÂèòÂåñËøáÂ§ß\n‚ùå ÈîôËØØÔºö`\"Transform the person into a Viking\"`\n‚úÖ Ê≠£Á°ÆÔºö`\"Change the clothes to be a viking warrior while preserving facial features\"`\n\n### ÊûÑÂõæ‰ΩçÁΩÆÊîπÂèò\n‚ùå ÈîôËØØÔºö`\"Put him on a beach\"`\n‚úÖ Ê≠£Á°ÆÔºö`\"Change the background to a beach while keeping the person in the exact same position, scale, and pose\"`\n\n### È£éÊ†ºÂ∫îÁî®‰∏çÂáÜÁ°Æ\n‚ùå ÈîôËØØÔºö`\"Make it a sketch\"`\n‚úÖ Ê≠£Á°ÆÔºö`\"Convert to pencil sketch with natural graphite lines, cross-hatching, and visible paper texture\"`\n\n## Ê†∏ÂøÉÂéüÂàô\n\n1. **ÂÖ∑‰ΩìÊòéÁ°Æ** - ‰ΩøÁî®Á≤æÁ°ÆÊèèËø∞ÔºåÈÅøÂÖçÊ®°Á≥äËØçÊ±á\n2. **ÂàÜÊ≠•ÁºñËæë** - Â§çÊùÇ‰øÆÊîπÂàÜ‰∏∫Â§ö‰∏™ÁÆÄÂçïÊ≠•È™§\n3. **ÊòéÁ°Æ‰øùÁïô** - ËØ¥ÊòéÂì™‰∫õË¶Å‰øùÊåÅ‰∏çÂèò\n4. **Âä®ËØçÈÄâÊã©** - Áî®\"Êõ¥Êîπ\"„ÄÅ\"ÊõøÊç¢\"ËÄåÈùû\"ËΩ¨Êç¢\"\n\n## ÊúÄ‰Ω≥ÂÆûË∑µÊ®°Êùø\n\n**ÂØπË±°‰øÆÊîπÔºö**\n`\"Change [object] to [new state], keep [content to preserve] unchanged\"`\n\n**È£éÊ†ºËΩ¨Êç¢Ôºö**\n`\"Transform to [specific style], while maintaining [composition/character/other] unchanged\"`\n\n**ËÉåÊôØÊõøÊç¢Ôºö**\n`\"Change the background to [new background], keep the subject in the exact same position and pose\"`\n\n**ÊñáÊú¨ÁºñËæëÔºö**\n`\"Replace '[original text]' with '[new text]', maintain the same font style\"`\n\n> **ËÆ∞‰ΩèÔºö** Ë∂äÂÖ∑‰ΩìË∂äÂ•ΩÔºåKontext ÊìÖÈïøÁêÜËß£ËØ¶ÁªÜÊåá‰ª§Âπ∂‰øùÊåÅ‰∏ÄËá¥ÊÄß„ÄÇ"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 175,
      "type": "MarkdownNote",
      "pos": [
        -50,
        640
      ],
      "size": [
        320,
        88
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "About Flux Kontext Edit",
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "[English] Use Ctrl + B to enable multipule image input.\n\n[‰∏≠Êñá] ‰ΩøÁî® **Ctrl + B** Êù•ÂêØÁî®Â§öÂº†ÂõæÁâáËæìÂÖ•"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 173,
      "type": "PreviewImage",
      "pos": [
        320,
        860
      ],
      "size": [
        396.72283935546875,
        404.9250183105469
      ],
      "flags": {},
      "order": 34,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 289
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "PreviewImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 244,
      "type": "MarkdownNote",
      "pos": [
        -964.196533203125,
        1590.39208984375
      ],
      "size": [
        509.49456787109375,
        308.88897705078125
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "How to use Brie's Kontext Manga Cleaner",
      "properties": {
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "Firstly, this workflow is an extension of the workflow found here:\nhttps://docs.comfy.org/tutorials/flux/flux-1-kontext-dev\n\nOnly the bottom half is my work, the above I've yoinked and it remains unchanged.\n\nThis workflow is for removing textboxes, effects, and text from manga, comics and other drawn media. It is tailored for grayscale manga images where the page is taller than it is wide. Color images works well too, but you need to remove the word 'greyscale' from the prompt for it to work well. Otherwise, no need to change the prompt.\n\nSimply put the image in the load image node above and run it. It will get simpler tasks in one shot, but more complex ones I usually pick best of 4. \n\nEven if it doesn't succeed completely, it usually gives enough correct material that you can photo-bash a correct version out of the pieces.\n\nDue to the resizes quirks of Flux, this workflow outputs two sets, one that pads and unpads horizontally, and one vertically. Simply use the one that works. Bypass the 'Image Save' node of the one you don't want.\n\nThis workflow is part of my 'Lazy' series, which focuses on speed and ease-of-use. There's nothing to tweak here. If it didn't work, just run it again, if you don't get results you want after 8 tries, you're not going to get it and you will need to do it manually.\n\nWith minor tweaks, it can work for horizontal mangas and comics as well! Change 'imageSplitGrid' to row 1 columns 2, and both 'Image Concatenate Multi' to 'right' instead of 'down'.\n\nCheese and have a good one!\n\n- Brie Wendsleydale"
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 142,
      "type": "LoadImageOutput",
      "pos": [
        -390,
        770
      ],
      "size": [
        320,
        374
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            249,
            307
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.40",
        "Node name for S&R": "LoadImageOutput",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "7.jpg [output]",
        false,
        "refresh",
        "image"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 189,
      "type": "easy imageSplitGrid",
      "pos": [
        -407.223388671875,
        1636.6951904296875
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 307
        }
      ],
      "outputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "links": [
            295,
            308,
            315,
            316,
            338
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-easy-use",
        "ver": "e4ac947d9612ef5d12fb055c0b51b9de8b981deb",
        "Node name for S&R": "easy imageSplitGrid",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        2,
        1
      ]
    },
    {
      "id": 233,
      "type": "ImageConcatMulti",
      "pos": [
        2249.5791015625,
        2072.299072265625
      ],
      "size": [
        315,
        170
      ],
      "flags": {},
      "order": 49,
      "mode": 0,
      "inputs": [
        {
          "name": "image_1",
          "type": "IMAGE",
          "link": 380
        },
        {
          "name": "image_2",
          "type": "IMAGE",
          "link": 402
        }
      ],
      "outputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "links": [
            382
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "9a52b7dfd28b8079e6c63636fd2e2d1dff37d403",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        2,
        "down",
        false,
        null
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 231,
      "type": "ImageConcatMulti",
      "pos": [
        2249.5791015625,
        2781.885009765625
      ],
      "size": [
        315,
        170
      ],
      "flags": {},
      "order": 51,
      "mode": 0,
      "inputs": [
        {
          "name": "image_1",
          "type": "IMAGE",
          "link": 375
        },
        {
          "name": "image_2",
          "type": "IMAGE",
          "link": 401
        }
      ],
      "outputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "links": [
            383
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "9a52b7dfd28b8079e6c63636fd2e2d1dff37d403",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        2,
        "down",
        false,
        null
      ],
      "color": "#232",
      "bgcolor": "#353"
    },
    {
      "id": 209,
      "type": "PreviewImage",
      "pos": [
        1659.30078125,
        1629.1807861328125
      ],
      "size": [
        526.5191040039062,
        605.8673095703125
      ],
      "flags": {},
      "order": 42,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 366
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.42",
        "Node name for S&R": "PreviewImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 200,
      "type": "PreviewImage",
      "pos": [
        694.9756469726562,
        1987.1983642578125
      ],
      "size": [
        319.0860595703125,
        402.8852844238281
      ],
      "flags": {},
      "order": 29,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 416
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.42",
        "Node name for S&R": "PreviewImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 201,
      "type": "ImageFromBatch",
      "pos": [
        342.25738525390625,
        1987.1983642578125
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 315
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            318
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.42",
        "Node name for S&R": "ImageFromBatch",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        0,
        1
      ]
    },
    {
      "id": 212,
      "type": "MathExpression|pysssss",
      "pos": [
        694.9756469726562,
        1629.8040771484375
      ],
      "size": [
        319.0860595703125,
        128
      ],
      "flags": {},
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "a",
          "shape": 7,
          "type": "INT,FLOAT,IMAGE,LATENT",
          "link": 419
        },
        {
          "name": "b",
          "shape": 7,
          "type": "INT,FLOAT,IMAGE,LATENT",
          "link": 420
        },
        {
          "name": "c",
          "shape": 7,
          "type": "INT,FLOAT,IMAGE,LATENT",
          "link": 423
        }
      ],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            343
          ]
        },
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "links": null
        }
      ],
      "title": "Resize Ratio Width üêç",
      "properties": {
        "cnr_id": "comfyui-custom-scripts",
        "ver": "aac13aa7ce35b07d43633c3bbe654a38c00d74f5",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "((b/a)*c)"
      ]
    },
    {
      "id": 198,
      "type": "ImageResizeKJv2",
      "pos": [
        342.25738525390625,
        2124.083740234375
      ],
      "size": [
        270,
        266
      ],
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 318
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 312
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 313
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            323,
            416
          ]
        },
        {
          "name": "width",
          "type": "INT",
          "links": null
        },
        {
          "name": "height",
          "type": "INT",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "f7eb33abc80a2aded1b46dff0dd14d07856a7d50",
        "Node name for S&R": "ImageResizeKJv2",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        512,
        512,
        "nearest-exact",
        "pad",
        "255,255,255",
        "bottom",
        1,
        "cpu"
      ]
    },
    {
      "id": 199,
      "type": "GetImageSize+",
      "pos": [
        -83.0741958618164,
        2266.414306640625
      ],
      "size": [
        270,
        66
      ],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 311
        }
      ],
      "outputs": [
        {
          "name": "width",
          "type": "INT",
          "links": [
            312,
            321,
            372,
            418
          ]
        },
        {
          "name": "height",
          "type": "INT",
          "links": [
            313,
            322,
            339,
            420
          ]
        },
        {
          "name": "count",
          "type": "INT",
          "links": null
        }
      ],
      "title": "üîß Get Flux Image Size",
      "properties": {
        "cnr_id": "comfyui_essentials",
        "ver": "9d9f4bedfc9f0321c19faf71855e228c93bd0dc9",
        "Node name for S&R": "GetImageSize+",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 190,
      "type": "PreviewImage",
      "pos": [
        -407.223388671875,
        1791.112060546875
      ],
      "size": [
        270,
        402.8852844238281
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 295
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.42",
        "Node name for S&R": "PreviewImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 197,
      "type": "PreviewImage",
      "pos": [
        -83.0741958618164,
        1791.112060546875
      ],
      "size": [
        270,
        402.8852844238281
      ],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 310
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.42",
        "Node name for S&R": "PreviewImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 211,
      "type": "GetImageSize+",
      "pos": [
        -407.223388671875,
        2266.414306640625
      ],
      "size": [
        270,
        66
      ],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 338
        }
      ],
      "outputs": [
        {
          "name": "width",
          "type": "INT",
          "links": [
            417,
            423
          ]
        },
        {
          "name": "height",
          "type": "INT",
          "links": [
            419,
            422
          ]
        },
        {
          "name": "count",
          "type": "INT",
          "links": null
        }
      ],
      "title": "üîß Get Orig Image Size",
      "properties": {
        "cnr_id": "comfyui_essentials",
        "ver": "9d9f4bedfc9f0321c19faf71855e228c93bd0dc9",
        "Node name for S&R": "GetImageSize+",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 226,
      "type": "MathExpression|pysssss",
      "pos": [
        694.9756469726562,
        1808.501220703125
      ],
      "size": [
        319.0860595703125,
        128
      ],
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "a",
          "shape": 7,
          "type": "INT,FLOAT,IMAGE,LATENT",
          "link": 417
        },
        {
          "name": "b",
          "shape": 7,
          "type": "INT,FLOAT,IMAGE,LATENT",
          "link": 418
        },
        {
          "name": "c",
          "shape": 7,
          "type": "INT,FLOAT,IMAGE,LATENT",
          "link": 422
        }
      ],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            371
          ]
        },
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "links": null
        }
      ],
      "title": "Resize Ratio Height üêç",
      "properties": {
        "cnr_id": "comfyui-custom-scripts",
        "ver": "aac13aa7ce35b07d43633c3bbe654a38c00d74f5",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "((b/a)*c)"
      ]
    },
    {
      "id": 208,
      "type": "ImageResizeKJv2",
      "pos": [
        1325.541748046875,
        1629.1807861328125
      ],
      "size": [
        270,
        266
      ],
      "flags": {},
      "order": 39,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 392
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 343
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 339
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            366,
            378,
            379
          ]
        },
        {
          "name": "width",
          "type": "INT",
          "links": null
        },
        {
          "name": "height",
          "type": "INT",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "f7eb33abc80a2aded1b46dff0dd14d07856a7d50",
        "Node name for S&R": "ImageResizeKJv2",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        512,
        512,
        "lanczos",
        "crop",
        "255,255,255",
        "center",
        1,
        "cpu"
      ]
    },
    {
      "id": 228,
      "type": "ImageResizeKJv2",
      "pos": [
        1325.541748046875,
        2329.89453125
      ],
      "size": [
        270,
        266
      ],
      "flags": {},
      "order": 40,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 393
        },
        {
          "name": "width",
          "type": "INT",
          "widget": {
            "name": "width"
          },
          "link": 372
        },
        {
          "name": "height",
          "type": "INT",
          "widget": {
            "name": "height"
          },
          "link": 371
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            370,
            376,
            377
          ]
        },
        {
          "name": "width",
          "type": "INT",
          "links": null
        },
        {
          "name": "height",
          "type": "INT",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "f7eb33abc80a2aded1b46dff0dd14d07856a7d50",
        "Node name for S&R": "ImageResizeKJv2",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        512,
        512,
        "lanczos",
        "crop",
        "255,255,255",
        "center",
        1,
        "cpu"
      ]
    },
    {
      "id": 227,
      "type": "PreviewImage",
      "pos": [
        1659.30078125,
        2329.89453125
      ],
      "size": [
        526.5191040039062,
        605.8673095703125
      ],
      "flags": {},
      "order": 45,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 370
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.42",
        "Node name for S&R": "PreviewImage",
        "widget_ue_connectable": {}
      },
      "widgets_values": []
    },
    {
      "id": 6,
      "type": "CLIPTextEncode",
      "pos": [
        330,
        560
      ],
      "size": [
        400,
        220
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 59
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "slot_index": 0,
          "links": [
            237,
            294
          ]
        }
      ],
      "title": "CLIP Text Encode (Positive Prompt)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.3.38",
        "Node name for S&R": "CLIPTextEncode",
        "widget_ue_connectable": {}
      },
      "widgets_values": [
        "Remove all speech bubbles, text, Japanese, action lines, titles, logos, hearts, and effects. Change the image to be more crisp, clean, high quality and less blurry, keep the content, greyscale colors and composition the same."
      ],
      "color": "#232",
      "bgcolor": "#353"
    }
  ],
  "links": [
    [
      52,
      31,
      0,
      8,
      0,
      "LATENT"
    ],
    [
      57,
      35,
      0,
      31,
      1,
      "CONDITIONING"
    ],
    [
      58,
      37,
      0,
      31,
      0,
      "MODEL"
    ],
    [
      59,
      38,
      0,
      6,
      0,
      "CLIP"
    ],
    [
      61,
      39,
      0,
      8,
      1,
      "VAE"
    ],
    [
      222,
      42,
      0,
      124,
      0,
      "IMAGE"
    ],
    [
      223,
      39,
      0,
      124,
      1,
      "VAE"
    ],
    [
      237,
      6,
      0,
      135,
      0,
      "CONDITIONING"
    ],
    [
      238,
      135,
      0,
      31,
      2,
      "CONDITIONING"
    ],
    [
      249,
      142,
      0,
      146,
      0,
      "IMAGE"
    ],
    [
      250,
      147,
      0,
      146,
      1,
      "IMAGE"
    ],
    [
      289,
      42,
      0,
      173,
      0,
      "IMAGE"
    ],
    [
      291,
      124,
      0,
      31,
      3,
      "LATENT"
    ],
    [
      292,
      177,
      0,
      35,
      0,
      "CONDITIONING"
    ],
    [
      293,
      124,
      0,
      177,
      1,
      "LATENT"
    ],
    [
      294,
      6,
      0,
      177,
      0,
      "CONDITIONING"
    ],
    [
      295,
      189,
      0,
      190,
      0,
      "IMAGE"
    ],
    [
      307,
      142,
      0,
      189,
      0,
      "IMAGE"
    ],
    [
      308,
      189,
      0,
      195,
      0,
      "IMAGE"
    ],
    [
      310,
      195,
      0,
      197,
      0,
      "IMAGE"
    ],
    [
      311,
      195,
      0,
      199,
      0,
      "IMAGE"
    ],
    [
      312,
      199,
      0,
      198,
      1,
      "INT"
    ],
    [
      313,
      199,
      1,
      198,
      2,
      "INT"
    ],
    [
      315,
      189,
      0,
      201,
      0,
      "IMAGE"
    ],
    [
      316,
      189,
      0,
      202,
      0,
      "IMAGE"
    ],
    [
      317,
      202,
      0,
      203,
      0,
      "IMAGE"
    ],
    [
      318,
      201,
      0,
      198,
      0,
      "IMAGE"
    ],
    [
      320,
      203,
      0,
      204,
      0,
      "IMAGE"
    ],
    [
      321,
      199,
      0,
      203,
      1,
      "INT"
    ],
    [
      322,
      199,
      1,
      203,
      2,
      "INT"
    ],
    [
      323,
      198,
      0,
      205,
      0,
      "IMAGE"
    ],
    [
      324,
      203,
      0,
      205,
      1,
      "IMAGE"
    ],
    [
      325,
      205,
      0,
      42,
      0,
      "IMAGE"
    ],
    [
      338,
      189,
      0,
      211,
      0,
      "IMAGE"
    ],
    [
      339,
      199,
      1,
      208,
      2,
      "INT"
    ],
    [
      343,
      212,
      0,
      208,
      1,
      "INT"
    ],
    [
      366,
      208,
      0,
      209,
      0,
      "IMAGE"
    ],
    [
      370,
      228,
      0,
      227,
      0,
      "IMAGE"
    ],
    [
      371,
      226,
      0,
      228,
      2,
      "INT"
    ],
    [
      372,
      199,
      0,
      228,
      1,
      "INT"
    ],
    [
      375,
      237,
      0,
      231,
      0,
      "IMAGE"
    ],
    [
      376,
      228,
      0,
      237,
      0,
      "IMAGE"
    ],
    [
      377,
      228,
      0,
      236,
      0,
      "IMAGE"
    ],
    [
      378,
      208,
      0,
      234,
      0,
      "IMAGE"
    ],
    [
      379,
      208,
      0,
      235,
      0,
      "IMAGE"
    ],
    [
      380,
      234,
      0,
      233,
      0,
      "IMAGE"
    ],
    [
      382,
      233,
      0,
      232,
      0,
      "IMAGE"
    ],
    [
      383,
      231,
      0,
      230,
      0,
      "IMAGE"
    ],
    [
      384,
      232,
      0,
      239,
      0,
      "IMAGE"
    ],
    [
      385,
      230,
      0,
      238,
      0,
      "IMAGE"
    ],
    [
      392,
      8,
      0,
      208,
      0,
      "IMAGE"
    ],
    [
      393,
      8,
      0,
      228,
      0,
      "IMAGE"
    ],
    [
      394,
      8,
      0,
      240,
      0,
      "IMAGE"
    ],
    [
      395,
      237,
      0,
      241,
      0,
      "IMAGE"
    ],
    [
      396,
      236,
      0,
      241,
      1,
      "IMAGE"
    ],
    [
      398,
      234,
      0,
      242,
      0,
      "IMAGE"
    ],
    [
      399,
      235,
      0,
      242,
      1,
      "IMAGE"
    ],
    [
      401,
      236,
      0,
      231,
      1,
      "IMAGE"
    ],
    [
      402,
      235,
      0,
      233,
      1,
      "IMAGE"
    ],
    [
      416,
      198,
      0,
      200,
      0,
      "IMAGE"
    ],
    [
      417,
      211,
      0,
      226,
      0,
      "INT,FLOAT,IMAGE,LATENT"
    ],
    [
      418,
      199,
      0,
      226,
      1,
      "INT,FLOAT,IMAGE,LATENT"
    ],
    [
      419,
      211,
      1,
      212,
      0,
      "INT,FLOAT,IMAGE,LATENT"
    ],
    [
      420,
      199,
      1,
      212,
      1,
      "INT,FLOAT,IMAGE,LATENT"
    ],
    [
      422,
      211,
      1,
      226,
      2,
      "INT,FLOAT,IMAGE,LATENT"
    ],
    [
      423,
      211,
      0,
      212,
      2,
      "INT,FLOAT,IMAGE,LATENT"
    ]
  ],
  "groups": [
    {
      "id": 1,
      "title": "Step 1- Load models",
      "bounding": [
        -410,
        10,
        360,
        450
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 3,
      "title": "Step 2 - Upload images",
      "bounding": [
        -410,
        480,
        700,
        680
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 5,
      "title": "Step 3 - Prompt",
      "bounding": [
        310,
        480,
        430,
        330
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 6,
      "title": "Conditioning",
      "bounding": [
        -30,
        10,
        540,
        250
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 7,
      "title": "Initial Grid Process Group",
      "bounding": [
        -420.21307373046875,
        1558.6778564453125,
        619.5350341796875,
        782.6956787109375
      ],
      "color": "#A88",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 8,
      "title": "Recrop & Padding Group",
      "bounding": [
        334.2826232910156,
        1556.734375,
        689.9652099609375,
        1295.9071044921875
      ],
      "color": "#A88",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 9,
      "title": "Uncrop & Unpad Vertical Group",
      "bounding": [
        1320.8038330078125,
        1554.3211669921875,
        2221.2626953125,
        707.3294677734375
      ],
      "color": "#A88",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 10,
      "title": "Uncrop & Unpad Horozontal Group",
      "bounding": [
        1323.8294677734375,
        2258.714111328125,
        2217.001953125,
        703.8072509765625
      ],
      "color": "#A88",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 11,
      "title": ".     X: @SlipperyGem",
      "bounding": [
        1337.789794921875,
        1367.6080322265625,
        140,
        80
      ],
      "color": "#3f789e",
      "font_size": 96,
      "flags": {}
    },
    {
      "id": 12,
      "title": ".     YouTube: @BrieWensleydale",
      "bounding": [
        1337.789794921875,
        1217.607666015625,
        140,
        80
      ],
      "color": "#b06634",
      "font_size": 96,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.243044209673981,
      "offset": [
        2659.7824971392024,
        399.1042802887914
      ]
    },
    "frontendVersion": "1.23.4",
    "groupNodes": {},
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true,
    "ue_links": [],
    "links_added_by_ue": []
  },
  "version": 0.4
}
