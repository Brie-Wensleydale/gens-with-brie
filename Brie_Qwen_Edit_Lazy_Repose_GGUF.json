{
  "id": "ad18abd3-bdee-4f80-8fae-d15d4f845b9d",
  "revision": 0,
  "last_node_id": 134,
  "last_link_id": 280,
  "nodes": [
    {
      "id": 81,
      "type": "MarkdownNote",
      "pos": [
        640,
        280
      ],
      "size": [
        270,
        190
      ],
      "flags": {},
      "order": 0,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "KSampler settings",
      "properties": {},
      "widgets_values": [
        "You can test and find the best setting by yourself. The following table is for reference.\n|   | Qwen | Comfy | lightning LoRA |\n|--------|---------|------------|---------------------------|\n| Steps  | 40      | 20         | 4                         |\n| CFG    | 4.0     | 4.0       | 1.0                       |\n\nBy default, we use 20 steps as we just don't want it to take too long. Try 40 if you want a better result, but it will take longer."
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 72,
      "type": "Note",
      "pos": [
        330,
        160
      ],
      "size": [
        280,
        90
      ],
      "flags": {},
      "order": 1,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "properties": {},
      "widgets_values": [
        "The \"Edit Model Reference Method\" nodes above are not needed if you use Comfy files, but may be needed if you use repackaged ones from other people."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 71,
      "type": "FluxKontextMultiReferenceLatentMethod",
      "pos": [
        310,
        40
      ],
      "size": [
        300,
        70
      ],
      "flags": {},
      "order": 24,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 188
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            189
          ]
        }
      ],
      "title": "Edit Model Reference Method",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "FluxKontextMultiReferenceLatentMethod",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        "index_timestep_zero"
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 70,
      "type": "FluxKontextMultiReferenceLatentMethod",
      "pos": [
        310,
        -90
      ],
      "size": [
        300,
        70
      ],
      "flags": {},
      "order": 23,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 186
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            187
          ]
        }
      ],
      "title": "Edit Model Reference Method",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "FluxKontextMultiReferenceLatentMethod",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        "index_timestep_zero"
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 64,
      "type": "CFGNorm",
      "pos": [
        320,
        -220
      ],
      "size": [
        270,
        68.33333333333334
      ],
      "flags": {},
      "order": 27,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 177
        }
      ],
      "outputs": [
        {
          "name": "patched_model",
          "type": "MODEL",
          "links": [
            171
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "CFGNorm",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        1
      ]
    },
    {
      "id": 67,
      "type": "ModelSamplingAuraFlow",
      "pos": [
        320,
        -330
      ],
      "size": [
        270,
        68.33333333333334
      ],
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 215
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            177
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "ModelSamplingAuraFlow",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        3.1
      ]
    },
    {
      "id": 75,
      "type": "VAEEncode",
      "pos": [
        80,
        760
      ],
      "size": [
        187.5,
        60
      ],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 202
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 193
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            195
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "VAEEncode",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": []
    },
    {
      "id": 79,
      "type": "ImageScaleToTotalPixels",
      "pos": [
        -640,
        740
      ],
      "size": [
        270,
        106
      ],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 203
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            200,
            201,
            202
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "ImageScaleToTotalPixels",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        "lanczos",
        2,
        1
      ]
    },
    {
      "id": 87,
      "type": "LoadImage",
      "pos": [
        -20,
        360
      ],
      "size": [
        274.07552083333337,
        314
      ],
      "flags": {},
      "order": 2,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            211,
            212
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "LoadImage",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        "wooden_chair.png",
        "image"
      ]
    },
    {
      "id": 83,
      "type": "LoadImage",
      "pos": [
        -320,
        360
      ],
      "size": [
        274.07552083333337,
        314
      ],
      "flags": {},
      "order": 3,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            204,
            205
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "LoadImage",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        "texture_fur.png",
        "image"
      ]
    },
    {
      "id": 92,
      "type": "FluxKontextMultiReferenceLatentMethod",
      "pos": [
        210.3868953615216,
        1464.1221818657439
      ],
      "size": [
        300,
        70
      ],
      "flags": {},
      "order": 47,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 221
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            219
          ]
        }
      ],
      "title": "Edit Model Reference Method",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "FluxKontextMultiReferenceLatentMethod",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        "index_timestep_zero"
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 93,
      "type": "FluxKontextMultiReferenceLatentMethod",
      "pos": [
        210.3868953615216,
        1334.1221818657443
      ],
      "size": [
        300,
        70
      ],
      "flags": {},
      "order": 46,
      "mode": 0,
      "inputs": [
        {
          "name": "conditioning",
          "type": "CONDITIONING",
          "link": 222
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            218
          ]
        }
      ],
      "title": "Edit Model Reference Method",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "FluxKontextMultiReferenceLatentMethod",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        "index_timestep_zero"
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 94,
      "type": "CFGNorm",
      "pos": [
        220.38689536152162,
        1204.1221818657439
      ],
      "size": [
        270,
        68.33333333333334
      ],
      "flags": {},
      "order": 28,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 223
        }
      ],
      "outputs": [
        {
          "name": "patched_model",
          "type": "MODEL",
          "links": [
            217
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "CFGNorm",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        1
      ]
    },
    {
      "id": 95,
      "type": "ModelSamplingAuraFlow",
      "pos": [
        220.38689536152162,
        1094.1221818657439
      ],
      "size": [
        270,
        68.33333333333334
      ],
      "flags": {},
      "order": 26,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 224
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            223
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "ModelSamplingAuraFlow",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        3.1
      ]
    },
    {
      "id": 99,
      "type": "VAEEncode",
      "pos": [
        -19.61310463847817,
        2184.1221818657473
      ],
      "size": [
        187.5,
        60
      ],
      "flags": {},
      "order": 45,
      "mode": 0,
      "inputs": [
        {
          "name": "pixels",
          "type": "IMAGE",
          "link": 231
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 234
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            220
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "VAEEncode",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": []
    },
    {
      "id": 101,
      "type": "LoadImage",
      "pos": [
        -119.61310463847819,
        1784.1221818657464
      ],
      "size": [
        274.07552083333337,
        314
      ],
      "flags": {},
      "order": 4,
      "mode": 4,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            227,
            230
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "LoadImage",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        "wooden_chair.png",
        "image"
      ]
    },
    {
      "id": 10,
      "type": "VAELoader",
      "pos": [
        -645.9996482820792,
        186.98522949158058
      ],
      "size": [
        396.1328125,
        68.33333333333334
      ],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "VAE",
          "type": "VAE",
          "slot_index": 0,
          "links": [
            12,
            184,
            185,
            193,
            233,
            234,
            235,
            236
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "VAELoader",
        "models": [
          {
            "name": "qwen_image_vae.safetensors",
            "url": "https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/vae/qwen_image_vae.safetensors",
            "directory": "vae"
          }
        ],
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        "qwen\\qwen_image_vae.safetensors"
      ]
    },
    {
      "id": 61,
      "type": "CLIPLoader",
      "pos": [
        -645.9996482820792,
        8.985344797735479
      ],
      "size": [
        396.1328125,
        125
      ],
      "flags": {},
      "order": 6,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "CLIP",
          "type": "CLIP",
          "links": [
            178,
            181,
            237,
            238
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "CLIPLoader",
        "models": [
          {
            "name": "qwen_2.5_vl_7b_fp8_scaled.safetensors",
            "url": "https://huggingface.co/Comfy-Org/HunyuanVideo_1.5_repackaged/resolve/main/split_files/text_encoders/qwen_2.5_vl_7b_fp8_scaled.safetensors",
            "directory": "text_encoders"
          }
        ],
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        "qwen_2.5_vl_7b_fp8_scaled.safetensors",
        "qwen_image",
        "default"
      ]
    },
    {
      "id": 90,
      "type": "VAEDecode",
      "pos": [
        830.3868953615231,
        1054.1221818657439
      ],
      "size": [
        140,
        46
      ],
      "flags": {
        "collapsed": false
      },
      "order": 49,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 216
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 233
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            241,
            247
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "VAEDecode",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": []
    },
    {
      "id": 8,
      "type": "VAEDecode",
      "pos": [
        931.7272346756365,
        -432.180448322915
      ],
      "size": [
        140,
        46
      ],
      "flags": {
        "collapsed": false
      },
      "order": 30,
      "mode": 0,
      "inputs": [
        {
          "name": "samples",
          "type": "LATENT",
          "link": 175
        },
        {
          "name": "vae",
          "type": "VAE",
          "link": 12
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "slot_index": 0,
          "links": [
            250,
            252,
            255,
            258
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "VAEDecode",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": []
    },
    {
      "id": 119,
      "type": "GetImageSize",
      "pos": [
        2258.5963660983284,
        -252.69104824907197
      ],
      "size": [
        140,
        124
      ],
      "flags": {},
      "order": 35,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 269
        }
      ],
      "outputs": [
        {
          "name": "width",
          "type": "INT",
          "links": [
            272
          ]
        },
        {
          "name": "height",
          "type": "INT",
          "links": [
            273
          ]
        },
        {
          "name": "batch_size",
          "type": "INT",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.6.0",
        "Node name for S&R": "GetImageSize"
      },
      "widgets_values": []
    },
    {
      "id": 111,
      "type": "LoadSAM3Model",
      "pos": [
        1915.3633126856262,
        -113.70910600025417
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 7,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "sam3_model",
          "type": "SAM3_MODEL",
          "links": [
            251
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-sam3",
        "ver": "c74d8d18fd88baf318ee070fac38c4ad26ac0ece",
        "Node name for S&R": "LoadSAM3Model"
      },
      "widgets_values": [
        "models/sam3/sam3.pt",
        ""
      ]
    },
    {
      "id": 122,
      "type": "MathExpression|pysssss",
      "pos": [
        2458.6687158448985,
        -130.22214482199252
      ],
      "size": [
        290.3527758529117,
        128
      ],
      "flags": {},
      "order": 37,
      "mode": 0,
      "inputs": [
        {
          "name": "a",
          "shape": 7,
          "type": "INT,FLOAT,IMAGE,LATENT",
          "link": 271
        },
        {
          "name": "b",
          "shape": 7,
          "type": "INT,FLOAT,IMAGE,LATENT",
          "link": 273
        },
        {
          "name": "c",
          "shape": 7,
          "type": "INT,FLOAT,IMAGE,LATENT",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            274,
            275
          ]
        },
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "links": null
        }
      ],
      "title": "Height Buffer üêç",
      "properties": {
        "cnr_id": "comfyui-custom-scripts",
        "ver": "f2838ed5e59de4d73cde5c98354b87a8d3200190"
      },
      "widgets_values": [
        "a/100*b"
      ]
    },
    {
      "id": 121,
      "type": "MathExpression|pysssss",
      "pos": [
        2458.6687158448985,
        -330
      ],
      "size": [
        290.3527758529117,
        128
      ],
      "flags": {},
      "order": 36,
      "mode": 0,
      "inputs": [
        {
          "name": "a",
          "shape": 7,
          "type": "INT,FLOAT,IMAGE,LATENT",
          "link": 272
        },
        {
          "name": "b",
          "shape": 7,
          "type": "INT,FLOAT,IMAGE,LATENT",
          "link": 270
        },
        {
          "name": "c",
          "shape": 7,
          "type": "INT,FLOAT,IMAGE,LATENT",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            276,
            277
          ]
        },
        {
          "name": "FLOAT",
          "type": "FLOAT",
          "links": null
        }
      ],
      "title": "Width Buffer üêç",
      "properties": {
        "cnr_id": "comfyui-custom-scripts",
        "ver": "f2838ed5e59de4d73cde5c98354b87a8d3200190"
      },
      "widgets_values": [
        "a/100*b"
      ]
    },
    {
      "id": 117,
      "type": "PreviewImage",
      "pos": [
        1585.1637145711106,
        -330
      ],
      "size": [
        281.24606200132416,
        555.0461078663822
      ],
      "flags": {},
      "order": 39,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 259
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.6.0",
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 114,
      "type": "PreviewImage",
      "pos": [
        1268.978570943252,
        -330
      ],
      "size": [
        281.24606200132416,
        555.0461078663822
      ],
      "flags": {},
      "order": 34,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 254
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.6.0",
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 115,
      "type": "PreviewImage",
      "pos": [
        939.4312316027917,
        -330
      ],
      "size": [
        304.3993271614088,
        557.4934619900376
      ],
      "flags": {},
      "order": 32,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 255
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.6.0",
        "Node name for S&R": "PreviewImage"
      },
      "widgets_values": []
    },
    {
      "id": 116,
      "type": "Bounded Image Crop with Mask",
      "pos": [
        2437.80899169781,
        47.90374592828118
      ],
      "size": [
        311.2125,
        174
      ],
      "flags": {},
      "order": 38,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 258
        },
        {
          "name": "mask",
          "type": "MASK",
          "link": 257
        },
        {
          "name": "padding_left",
          "type": "INT",
          "widget": {
            "name": "padding_left"
          },
          "link": 276
        },
        {
          "name": "padding_right",
          "type": "INT",
          "widget": {
            "name": "padding_right"
          },
          "link": 277
        },
        {
          "name": "padding_top",
          "type": "INT",
          "widget": {
            "name": "padding_top"
          },
          "link": 274
        },
        {
          "name": "padding_bottom",
          "type": "INT",
          "widget": {
            "name": "padding_bottom"
          },
          "link": 275
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            259,
            267,
            268
          ]
        },
        {
          "name": "IMAGE_BOUNDS",
          "type": "IMAGE_BOUNDS",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "was-ns",
        "ver": "afeee09ba44e713ec52a413ac6b105fd06b2d356",
        "Node name for S&R": "Bounded Image Crop with Mask"
      },
      "widgets_values": [
        64,
        64,
        64,
        64,
        false
      ]
    },
    {
      "id": 112,
      "type": "ImageCropByMask",
      "pos": [
        2232.1703342274504,
        175.90374592828118
      ],
      "size": [
        177.1861328125,
        46
      ],
      "flags": {},
      "order": 33,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 252
        },
        {
          "name": "mask",
          "type": "MASK",
          "link": 253
        }
      ],
      "outputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "links": [
            254,
            269
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "79f529a84a8c20fe5dcdfa984c6be7a94102c014",
        "Node name for S&R": "ImageCropByMask"
      },
      "widgets_values": []
    },
    {
      "id": 110,
      "type": "SAM3Grounding",
      "pos": [
        1915.3633126856262,
        31.903745928281182
      ],
      "size": [
        286.4609375,
        190
      ],
      "flags": {},
      "order": 31,
      "mode": 0,
      "inputs": [
        {
          "name": "sam3_model",
          "type": "SAM3_MODEL",
          "link": 251
        },
        {
          "name": "image",
          "type": "IMAGE",
          "link": 250
        },
        {
          "name": "positive_boxes",
          "shape": 7,
          "type": "SAM3_BOXES_PROMPT",
          "link": null
        },
        {
          "name": "negative_boxes",
          "shape": 7,
          "type": "SAM3_BOXES_PROMPT",
          "link": null
        }
      ],
      "outputs": [
        {
          "name": "masks",
          "type": "MASK",
          "links": [
            253,
            257
          ]
        },
        {
          "name": "visualization",
          "type": "IMAGE",
          "links": null
        },
        {
          "name": "boxes",
          "type": "STRING",
          "links": null
        },
        {
          "name": "scores",
          "type": "STRING",
          "links": null
        }
      ],
      "properties": {
        "cnr_id": "comfyui-sam3",
        "ver": "c74d8d18fd88baf318ee070fac38c4ad26ac0ece",
        "Node name for S&R": "SAM3Grounding"
      },
      "widgets_values": [
        0.2,
        "person",
        -1,
        false
      ]
    },
    {
      "id": 107,
      "type": "ImageConcanate",
      "pos": [
        1355.7251525447464,
        980.5577195241768
      ],
      "size": [
        270,
        102
      ],
      "flags": {},
      "order": 42,
      "mode": 0,
      "inputs": [
        {
          "name": "image1",
          "type": "IMAGE",
          "link": 244
        },
        {
          "name": "image2",
          "type": "IMAGE",
          "link": 245
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            246
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "79f529a84a8c20fe5dcdfa984c6be7a94102c014",
        "Node name for S&R": "ImageConcanate"
      },
      "widgets_values": [
        "down",
        true
      ]
    },
    {
      "id": 108,
      "type": "ImageConcanate",
      "pos": [
        1709.6956312941218,
        980.5577195241768
      ],
      "size": [
        270,
        102
      ],
      "flags": {},
      "order": 51,
      "mode": 0,
      "inputs": [
        {
          "name": "image1",
          "type": "IMAGE",
          "link": 246
        },
        {
          "name": "image2",
          "type": "IMAGE",
          "link": 247
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            248
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "79f529a84a8c20fe5dcdfa984c6be7a94102c014",
        "Node name for S&R": "ImageConcanate"
      },
      "widgets_values": [
        "right",
        true
      ]
    },
    {
      "id": 106,
      "type": "ImageConcanate",
      "pos": [
        1005.3890494697456,
        980.5577195241768
      ],
      "size": [
        270,
        102
      ],
      "flags": {},
      "order": 40,
      "mode": 0,
      "inputs": [
        {
          "name": "image1",
          "type": "IMAGE",
          "link": 242
        },
        {
          "name": "image2",
          "type": "IMAGE",
          "link": 267
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            244
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfyui-kjnodes",
        "ver": "79f529a84a8c20fe5dcdfa984c6be7a94102c014",
        "Node name for S&R": "ImageConcanate"
      },
      "widgets_values": [
        "right",
        true
      ]
    },
    {
      "id": 97,
      "type": "TextEncodeQwenImageEditPlus",
      "pos": [
        -305.61270302249113,
        1450.1225004784308
      ],
      "size": [
        420,
        220
      ],
      "flags": {},
      "order": 44,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 237
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": 236
        },
        {
          "name": "image1",
          "shape": 7,
          "type": "IMAGE",
          "link": 228
        },
        {
          "name": "image2",
          "shape": 7,
          "type": "IMAGE",
          "link": 229
        },
        {
          "name": "image3",
          "shape": 7,
          "type": "IMAGE",
          "link": 230
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            221
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "TextEncodeQwenImageEditPlus",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        ""
      ]
    },
    {
      "id": 69,
      "type": "TextEncodeQwenImageEditPlus",
      "pos": [
        -205.99959838401304,
        26.000318612686897
      ],
      "size": [
        420,
        220
      ],
      "flags": {},
      "order": 19,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 181
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": 185
        },
        {
          "name": "image1",
          "shape": 7,
          "type": "IMAGE",
          "link": 201
        },
        {
          "name": "image2",
          "shape": 7,
          "type": "IMAGE",
          "link": 205
        },
        {
          "name": "image3",
          "shape": 7,
          "type": "IMAGE",
          "link": 212
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            188
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "TextEncodeQwenImageEditPlus",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        ""
      ]
    },
    {
      "id": 68,
      "type": "TextEncodeQwenImageEditPlus",
      "pos": [
        -205.99959838401304,
        -293.99985316900654
      ],
      "size": [
        426.6276041666667,
        265.55989583333337
      ],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 178
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": 184
        },
        {
          "name": "image1",
          "shape": 7,
          "type": "IMAGE",
          "link": 200
        },
        {
          "name": "image2",
          "shape": 7,
          "type": "IMAGE",
          "link": 204
        },
        {
          "name": "image3",
          "shape": 7,
          "type": "IMAGE",
          "link": 211
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            186
          ]
        }
      ],
      "title": "TextEncodeQwenImageEditPlus (Positive)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "TextEncodeQwenImageEditPlus",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        "Without changing the pose, remove the person's hair, clothing and accessories, and make them completely naked. Make the skin white and the background white."
      ]
    },
    {
      "id": 124,
      "type": "MarkdownNote",
      "pos": [
        -1276.6911549846548,
        360
      ],
      "size": [
        310,
        314.0000305175781
      ],
      "flags": {},
      "order": 8,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "HOLD THE CHEESE!",
      "properties": {},
      "widgets_values": [
        "How do I use this easily?\n\nHere's how!\n\nDownload all the models, put them in the right folders, hit ctrl+R to refresh, then load them into each model loader (magenta nodes).\n\nLoad a Character Sheet & Character Pose. (red nodes)\n\nFor the best experience, use a Pose image where the entire character in is the image, and a Character Sheet generated with my [Lazy Character Sheet](https://civitai.com/models/2078957?modelVersionId=2352325) workflow."
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 127,
      "type": "MarkdownNote",
      "pos": [
        -931.0734892982913,
        360
      ],
      "size": [
        230.0885160307106,
        310.6346244728105
      ],
      "flags": {},
      "order": 9,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Character Image",
      "properties": {},
      "widgets_values": [
        "For best results, the character should be fully within the image, forward or side facing and not upside-down. Sitting is generally fine, lying down is more complicated, especially if lying on one's chest.\n\nIf the camera angle is too extreme, probability of failure is higher. Even if it succeeds in capturing the character, that extreme camera angle is now baked into the pose, posing problems later on with fusion.\n\nThere is no limit on style, nor expression, nor body type. The lora will try to capture it all, and generally does a good job.\n\nFor best results you can gen both the Character Pose ang Character Sheet image with the same style."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 125,
      "type": "MarkdownNote",
      "pos": [
        -1010.7824579347773,
        1784.1221818657464
      ],
      "size": [
        310,
        130.54028940277703
      ],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Character sheet",
      "properties": {},
      "widgets_values": [
        "The character sheet can be generated using my Lazy Character Sheet workflow.\n\nThe character should be facing front, left, back and right, in that order.\n\nThe charaBG lora can run if its just the front image, or just the front torso image. In some cases, these types of images work better. Test and see what works best."
      ],
      "color": "#432",
      "bgcolor": "#653"
    },
    {
      "id": 109,
      "type": "ImageScaleToTotalPixels",
      "pos": [
        2044.7902970949579,
        980.5577195241768
      ],
      "size": [
        270,
        106
      ],
      "flags": {},
      "order": 52,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 248
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            249
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.6.0",
        "Node name for S&R": "ImageScaleToTotalPixels"
      },
      "widgets_values": [
        "lanczos",
        2,
        1
      ]
    },
    {
      "id": 104,
      "type": "SaveImage",
      "pos": [
        837.1533532520255,
        1158.4193885381542
      ],
      "size": [
        985.2994791666667,
        1060.3776041666667
      ],
      "flags": {},
      "order": 50,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 241
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "SaveImage",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        "QwenLazyRepose"
      ]
    },
    {
      "id": 105,
      "type": "SaveImage",
      "pos": [
        1865.7563357310205,
        1163.7923122607028
      ],
      "size": [
        985.2994791666667,
        1060.3776041666667
      ],
      "flags": {},
      "order": 53,
      "mode": 0,
      "inputs": [
        {
          "name": "images",
          "type": "IMAGE",
          "link": 249
        }
      ],
      "outputs": [],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "SaveImage",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        "QwenLazyReposeInfo"
      ]
    },
    {
      "id": 118,
      "type": "PrimitiveInt",
      "pos": [
        1915.3633126856262,
        -330
      ],
      "size": [
        270,
        82
      ],
      "flags": {},
      "order": 11,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "INT",
          "type": "INT",
          "links": [
            270,
            271
          ]
        }
      ],
      "title": "Edge Buffer %",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.6.0",
        "Node name for S&R": "PrimitiveInt"
      },
      "widgets_values": [
        5,
        "fixed"
      ],
      "color": "#323",
      "bgcolor": "#535"
    },
    {
      "id": 100,
      "type": "ImageScaleToTotalPixels",
      "pos": [
        -649.4343361523778,
        1167.2466837256663
      ],
      "size": [
        270,
        106
      ],
      "flags": {},
      "order": 41,
      "mode": 0,
      "inputs": [
        {
          "name": "image",
          "type": "IMAGE",
          "link": 268
        }
      ],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            225,
            228,
            231
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "ImageScaleToTotalPixels",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        "lanczos",
        2,
        1
      ]
    },
    {
      "id": 102,
      "type": "LoadImage",
      "pos": [
        -419.61310463847815,
        1784.1221818657464
      ],
      "size": [
        274.07552083333337,
        314
      ],
      "flags": {},
      "order": 12,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            226,
            229,
            245
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "title": "Character Sheet",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "LoadImage",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        "QwenEditCharSheet_00075_.png",
        "image"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 88,
      "type": "LoraLoaderModelOnly",
      "pos": [
        -186.69101570409683,
        -498.6264379458673
      ],
      "size": [
        396.1328125,
        82
      ],
      "flags": {},
      "order": 21,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 214
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            215
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "LoraLoaderModelOnly",
        "models": [
          {
            "name": "Qwen-Image-Edit-2511-Lightning-4steps-V1.0-bf16.safetensors",
            "url": "https://huggingface.co/lightx2v/Qwen-Image-Edit-2511-Lightning/resolve/main/Qwen-Image-Edit-2511-Lightning-4steps-V1.0-bf16.safetensors",
            "directory": "loras"
          }
        ],
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        "qwen\\tori tools\\QIE_image2body_V2_dim4_1e-3-000078.safetensors",
        1
      ]
    },
    {
      "id": 98,
      "type": "LoraLoaderModelOnly",
      "pos": [
        -286.30412034257483,
        980.5577195241768
      ],
      "size": [
        396.1328125,
        96.66666666666667
      ],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 239
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            224
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "LoraLoaderModelOnly",
        "models": [
          {
            "name": "Qwen-Image-Edit-2511-Lightning-4steps-V1.0-bf16.safetensors",
            "url": "https://huggingface.co/lightx2v/Qwen-Image-Edit-2511-Lightning/resolve/main/Qwen-Image-Edit-2511-Lightning-4steps-V1.0-bf16.safetensors",
            "directory": "loras"
          }
        ],
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        "qwen\\tori tools\\QIE_charaBG_V8_dim4_1e-3-000048.safetensors",
        1
      ]
    },
    {
      "id": 91,
      "type": "KSampler",
      "pos": [
        530.386895361522,
        1094.1221818657439
      ],
      "size": [
        280,
        560
      ],
      "flags": {},
      "order": 48,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 217
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 218
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 219
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 220
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            216
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "KSampler",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        407860646860037,
        "randomize",
        4,
        1,
        "euler",
        "simple",
        1
      ]
    },
    {
      "id": 96,
      "type": "TextEncodeQwenImageEditPlus",
      "pos": [
        -305.61270302249113,
        1130.1223286967372
      ],
      "size": [
        426.6276041666667,
        265.55989583333337
      ],
      "flags": {},
      "order": 43,
      "mode": 0,
      "inputs": [
        {
          "name": "clip",
          "type": "CLIP",
          "link": 238
        },
        {
          "name": "vae",
          "shape": 7,
          "type": "VAE",
          "link": 235
        },
        {
          "name": "image1",
          "shape": 7,
          "type": "IMAGE",
          "link": 225
        },
        {
          "name": "image2",
          "shape": 7,
          "type": "IMAGE",
          "link": 226
        },
        {
          "name": "image3",
          "shape": 7,
          "type": "IMAGE",
          "link": 227
        }
      ],
      "outputs": [
        {
          "name": "CONDITIONING",
          "type": "CONDITIONING",
          "links": [
            222
          ]
        }
      ],
      "title": "TextEncodeQwenImageEditPlus (Positive)",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "TextEncodeQwenImageEditPlus",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        "Change the character in the background and pose and expression pucture1 to a character on pictuer2."
      ]
    },
    {
      "id": 74,
      "type": "LoraLoaderModelOnly",
      "pos": [
        -645.9996482820792,
        -145.01474041268298
      ],
      "size": [
        396.1328125,
        96.66666666666667
      ],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 280
        }
      ],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            214,
            239
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "LoraLoaderModelOnly",
        "models": [
          {
            "name": "Qwen-Image-Edit-2511-Lightning-4steps-V1.0-bf16.safetensors",
            "url": "https://huggingface.co/lightx2v/Qwen-Image-Edit-2511-Lightning/resolve/main/Qwen-Image-Edit-2511-Lightning-4steps-V1.0-bf16.safetensors",
            "directory": "loras"
          }
        ],
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        "qwen\\Qwen-Image-Lightning-4steps-V2.0-bf16.safetensors",
        1
      ]
    },
    {
      "id": 41,
      "type": "LoadImage",
      "pos": [
        -640,
        360
      ],
      "size": [
        274.07552083333337,
        314
      ],
      "flags": {},
      "order": 13,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "IMAGE",
          "type": "IMAGE",
          "links": [
            203,
            242
          ]
        },
        {
          "name": "MASK",
          "type": "MASK",
          "links": null
        }
      ],
      "title": "Character Pose",
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "LoadImage",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        "pasted/image (110).png",
        "image"
      ],
      "color": "#322",
      "bgcolor": "#533"
    },
    {
      "id": 65,
      "type": "KSampler",
      "pos": [
        630,
        -330
      ],
      "size": [
        280,
        560
      ],
      "flags": {},
      "order": 29,
      "mode": 0,
      "inputs": [
        {
          "name": "model",
          "type": "MODEL",
          "link": 171
        },
        {
          "name": "positive",
          "type": "CONDITIONING",
          "link": 187
        },
        {
          "name": "negative",
          "type": "CONDITIONING",
          "link": 189
        },
        {
          "name": "latent_image",
          "type": "LATENT",
          "link": 195
        }
      ],
      "outputs": [
        {
          "name": "LATENT",
          "type": "LATENT",
          "links": [
            175
          ]
        }
      ],
      "properties": {
        "cnr_id": "comfy-core",
        "ver": "0.5.1",
        "Node name for S&R": "KSampler",
        "enableTabs": false,
        "tabWidth": 65,
        "tabXOffset": 10,
        "hasSecondTab": false,
        "secondTabText": "Send Back",
        "secondTabOffset": 80,
        "secondTabWidth": 65
      },
      "widgets_values": [
        1099496769110042,
        "fixed",
        4,
        1,
        "euler",
        "simple",
        1
      ]
    },
    {
      "id": 82,
      "type": "MarkdownNote",
      "pos": [
        -1270,
        -340
      ],
      "size": [
        569.0150267324193,
        590.667967298539
      ],
      "flags": {},
      "order": 14,
      "mode": 0,
      "inputs": [],
      "outputs": [],
      "title": "Model Links",
      "properties": {},
      "widgets_values": [
        "## Report Issue\n\nNote: please [update ComfyUI](https://docs.comfy.org/zh-CN/installation/update_comfyui) first and prepare required models. Desktop/Cloud ship stable builds; nightly-supported models may not be included yet, please wait for the next stable release.\n\n- Cannot run / runtime errors: [ComfyUI/issues](https://github.com/comfyanonymous/ComfyUI/issues)\n- UI / frontend issues: [ComfyUI_frontend/issues](https://github.com/Comfy-Org/ComfyUI_frontend/issues)\n- Workflow issues: [workflow_templates/issues](https://github.com/Comfy-Org/workflow_templates/issues)\n\nI'm keeping these warnings, because this workflow is based off a ComfyUI Template.\n\n## Model Links\n\n**text_encoders**\n\n- [qwen_2.5_vl_7b_fp8_scaled.safetensors](https://huggingface.co/Comfy-Org/HunyuanVideo_1.5_repackaged/resolve/main/split_files/text_encoders/qwen_2.5_vl_7b_fp8_scaled.safetensors)\n\n**loras**\n\n- [Qwen-Image-Lightning-4steps-V2.0-bf16.safetensors](https://huggingface.co/lightx2v/Qwen-Image-Lightning/blob/main/Qwen-Image-Lightning-4steps-V2.0-bf16.safetensors)\n- [QIE_charaBG_V8_dim4_1e-3-000048.safetensors](https://huggingface.co/tori29umai/QwenImageEdit2509_LoRA/blob/main/QIE_charaBG_V8_dim4_1e-3-000048.safetensors)\n- [QIE_image2body_V2_dim4_1e-3-000078.safetensors](https://huggingface.co/tori29umai/QwenImageEdit2509_LoRA/blob/main/QIE_image2body_V2_dim4_1e-3-000078.safetensors)\n\n**diffusion_models**\n\n- [qwen-image-edit-2511-BF16](https://huggingface.co/unsloth/Qwen-Image-Edit-2511-GGUF/tree/main) (Any Qwen Edit 2511 GGUF model will do)\n\n**vae**\n\n- [qwen_image_vae.safetensors](https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/vae/qwen_image_vae.safetensors)\n\n\nModel Storage Location\n\n```\nüìÇ ComfyUI/\n‚îú‚îÄ‚îÄ üìÇ models/\n‚îÇ   ‚îú‚îÄ‚îÄ üìÇ text_encoders/\n‚îÇ   ‚îÇ      ‚îî‚îÄ‚îÄ qwen_2.5_vl_7b_fp8_scaled.safetensors\n‚îÇ   ‚îú‚îÄ‚îÄ üìÇ loras/\n‚îÇ   ‚îÇ      |‚îÄ‚îÄ Qwen-Image-Lightning-4steps-V2.0-bf16.safetensors\n‚îÇ   ‚îÇ      |‚îÄ‚îÄ QIE_charaBG_V8_dim4_1e-3-000048.safetensors\n|   |      ‚îî‚îÄ‚îÄ QIE_image2body_V2_dim4_1e-3-000078.safetensors\n‚îÇ   ‚îú‚îÄ‚îÄ üìÇ diffusion_models/\n‚îÇ   ‚îÇ      ‚îî‚îÄ‚îÄ qwen-image-edit-2511-BF16.gguf\n‚îÇ   ‚îî‚îÄ‚îÄ üìÇ vae/\n‚îÇ          ‚îî‚îÄ‚îÄ qwen_image_vae.safetensors\n```\n"
      ],
      "color": "#222",
      "bgcolor": "#000"
    },
    {
      "id": 134,
      "type": "UnetLoaderGGUF",
      "pos": [
        -618.4229746336088,
        -267.76639736637173
      ],
      "size": [
        338.0056001980855,
        58
      ],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [],
      "outputs": [
        {
          "name": "MODEL",
          "type": "MODEL",
          "links": [
            280
          ]
        }
      ],
      "properties": {
        "cnr_id": "ComfyUI-GGUF",
        "ver": "795e45156ece99afbc3efef911e63fcb46e6a20d",
        "Node name for S&R": "UnetLoaderGGUF"
      },
      "widgets_values": [
        "qwen edit\\qwen-image-edit-2511-BF16.gguf"
      ]
    }
  ],
  "links": [
    [
      12,
      10,
      0,
      8,
      1,
      "VAE"
    ],
    [
      171,
      64,
      0,
      65,
      0,
      "MODEL"
    ],
    [
      175,
      65,
      0,
      8,
      0,
      "LATENT"
    ],
    [
      177,
      67,
      0,
      64,
      0,
      "MODEL"
    ],
    [
      178,
      61,
      0,
      68,
      0,
      "CLIP"
    ],
    [
      181,
      61,
      0,
      69,
      0,
      "CLIP"
    ],
    [
      184,
      10,
      0,
      68,
      1,
      "VAE"
    ],
    [
      185,
      10,
      0,
      69,
      1,
      "VAE"
    ],
    [
      186,
      68,
      0,
      70,
      0,
      "CONDITIONING"
    ],
    [
      187,
      70,
      0,
      65,
      1,
      "CONDITIONING"
    ],
    [
      188,
      69,
      0,
      71,
      0,
      "CONDITIONING"
    ],
    [
      189,
      71,
      0,
      65,
      2,
      "CONDITIONING"
    ],
    [
      193,
      10,
      0,
      75,
      1,
      "VAE"
    ],
    [
      195,
      75,
      0,
      65,
      3,
      "LATENT"
    ],
    [
      200,
      79,
      0,
      68,
      2,
      "IMAGE"
    ],
    [
      201,
      79,
      0,
      69,
      2,
      "IMAGE"
    ],
    [
      202,
      79,
      0,
      75,
      0,
      "IMAGE"
    ],
    [
      203,
      41,
      0,
      79,
      0,
      "IMAGE"
    ],
    [
      204,
      83,
      0,
      68,
      3,
      "IMAGE"
    ],
    [
      205,
      83,
      0,
      69,
      3,
      "IMAGE"
    ],
    [
      211,
      87,
      0,
      68,
      4,
      "IMAGE"
    ],
    [
      212,
      87,
      0,
      69,
      4,
      "IMAGE"
    ],
    [
      214,
      74,
      0,
      88,
      0,
      "MODEL"
    ],
    [
      215,
      88,
      0,
      67,
      0,
      "MODEL"
    ],
    [
      216,
      91,
      0,
      90,
      0,
      "LATENT"
    ],
    [
      217,
      94,
      0,
      91,
      0,
      "MODEL"
    ],
    [
      218,
      93,
      0,
      91,
      1,
      "CONDITIONING"
    ],
    [
      219,
      92,
      0,
      91,
      2,
      "CONDITIONING"
    ],
    [
      220,
      99,
      0,
      91,
      3,
      "LATENT"
    ],
    [
      221,
      97,
      0,
      92,
      0,
      "CONDITIONING"
    ],
    [
      222,
      96,
      0,
      93,
      0,
      "CONDITIONING"
    ],
    [
      223,
      95,
      0,
      94,
      0,
      "MODEL"
    ],
    [
      224,
      98,
      0,
      95,
      0,
      "MODEL"
    ],
    [
      225,
      100,
      0,
      96,
      2,
      "IMAGE"
    ],
    [
      226,
      102,
      0,
      96,
      3,
      "IMAGE"
    ],
    [
      227,
      101,
      0,
      96,
      4,
      "IMAGE"
    ],
    [
      228,
      100,
      0,
      97,
      2,
      "IMAGE"
    ],
    [
      229,
      102,
      0,
      97,
      3,
      "IMAGE"
    ],
    [
      230,
      101,
      0,
      97,
      4,
      "IMAGE"
    ],
    [
      231,
      100,
      0,
      99,
      0,
      "IMAGE"
    ],
    [
      233,
      10,
      0,
      90,
      1,
      "VAE"
    ],
    [
      234,
      10,
      0,
      99,
      1,
      "VAE"
    ],
    [
      235,
      10,
      0,
      96,
      1,
      "VAE"
    ],
    [
      236,
      10,
      0,
      97,
      1,
      "VAE"
    ],
    [
      237,
      61,
      0,
      97,
      0,
      "CLIP"
    ],
    [
      238,
      61,
      0,
      96,
      0,
      "CLIP"
    ],
    [
      239,
      74,
      0,
      98,
      0,
      "MODEL"
    ],
    [
      241,
      90,
      0,
      104,
      0,
      "IMAGE"
    ],
    [
      242,
      41,
      0,
      106,
      0,
      "IMAGE"
    ],
    [
      244,
      106,
      0,
      107,
      0,
      "IMAGE"
    ],
    [
      245,
      102,
      0,
      107,
      1,
      "IMAGE"
    ],
    [
      246,
      107,
      0,
      108,
      0,
      "IMAGE"
    ],
    [
      247,
      90,
      0,
      108,
      1,
      "IMAGE"
    ],
    [
      248,
      108,
      0,
      109,
      0,
      "IMAGE"
    ],
    [
      249,
      109,
      0,
      105,
      0,
      "IMAGE"
    ],
    [
      250,
      8,
      0,
      110,
      1,
      "IMAGE"
    ],
    [
      251,
      111,
      0,
      110,
      0,
      "SAM3_MODEL"
    ],
    [
      252,
      8,
      0,
      112,
      0,
      "IMAGE"
    ],
    [
      253,
      110,
      0,
      112,
      1,
      "MASK"
    ],
    [
      254,
      112,
      0,
      114,
      0,
      "IMAGE"
    ],
    [
      255,
      8,
      0,
      115,
      0,
      "IMAGE"
    ],
    [
      257,
      110,
      0,
      116,
      1,
      "MASK"
    ],
    [
      258,
      8,
      0,
      116,
      0,
      "IMAGE"
    ],
    [
      259,
      116,
      0,
      117,
      0,
      "IMAGE"
    ],
    [
      267,
      116,
      0,
      106,
      1,
      "IMAGE"
    ],
    [
      268,
      116,
      0,
      100,
      0,
      "IMAGE"
    ],
    [
      269,
      112,
      0,
      119,
      0,
      "IMAGE"
    ],
    [
      270,
      118,
      0,
      121,
      1,
      "INT"
    ],
    [
      271,
      118,
      0,
      122,
      0,
      "INT"
    ],
    [
      272,
      119,
      0,
      121,
      0,
      "INT"
    ],
    [
      273,
      119,
      1,
      122,
      1,
      "INT"
    ],
    [
      274,
      122,
      0,
      116,
      4,
      "INT"
    ],
    [
      275,
      122,
      0,
      116,
      5,
      "INT"
    ],
    [
      276,
      121,
      0,
      116,
      2,
      "INT"
    ],
    [
      277,
      121,
      0,
      116,
      3,
      "INT"
    ],
    [
      280,
      134,
      0,
      74,
      0,
      "MODEL"
    ]
  ],
  "groups": [
    {
      "id": 4,
      "title": "Pose Extraction Group",
      "bounding": [
        -671.093980985513,
        -581.5656096100814,
        3571.1216681014052,
        1436.8432275552773
      ],
      "color": "#444",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 1,
      "title": "Models",
      "bounding": [
        -660,
        -370,
        416.1419982910156,
        630.0299011230469
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 2,
      "title": "Prompt",
      "bounding": [
        -220,
        -370,
        510,
        630
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 3,
      "title": "Load Image",
      "bounding": [
        -660,
        280,
        950,
        410
      ],
      "color": "#3f789e",
      "font_size": 24,
      "flags": {}
    },
    {
      "id": 5,
      "title": ".     YouTube: @BrieWensleydale",
      "bounding": [
        1377.0520317959406,
        337.0455226486323,
        140,
        80
      ],
      "color": "#b06634",
      "font_size": 96,
      "flags": {}
    },
    {
      "id": 6,
      "title": ".     X: @SlipperyGem",
      "bounding": [
        1374.5695488857843,
        479.9498195236335,
        140,
        80
      ],
      "color": "#3f789e",
      "font_size": 96,
      "flags": {}
    },
    {
      "id": 7,
      "title": ".     CivitAI: slipperygem",
      "bounding": [
        1374.852416317425,
        621.2330226486339,
        140,
        80
      ],
      "color": "#88A",
      "font_size": 96,
      "flags": {}
    },
    {
      "id": 8,
      "title": "Character Repose Group",
      "bounding": [
        -665.3504294683689,
        878.2767410961192,
        3560.797227767373,
        1385.7516257084205
      ],
      "font_size": 24,
      "flags": {}
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 1.2284597357367473,
      "offset": [
        1370.992962527576,
        598.6264379458673
      ]
    },
    "frontendVersion": "1.35.9",
    "workflowRendererVersion": "LG",
    "groupNodes": {},
    "VHS_latentpreview": false,
    "VHS_latentpreviewrate": 0,
    "VHS_MetadataImage": true,
    "VHS_KeepIntermediate": true
  },
  "version": 0.4
}
